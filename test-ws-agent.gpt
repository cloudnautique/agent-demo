Tools: http://127.0.0.1:5100/swagger.json
Tools: Analyze_PDF, less_than_equal_to
Context: claim_processing_instructions

1. Get the claim from the tools available and update the status and internal_status to Reviewing
1. Get ALL of the checks from the tools available
1. Get the Policy info from the tools available
1. Use the policy and claim information to perform to process the claim
  a. Analyze the invoice
  a. Process EACH and EVERY check and update each check with the results.
1. If all checks PASS the claim status to Approved.
1. If any checks FAIL set the claim internal_status to 2nd review
---
Name: claim_processing_instructions

#!sys.echo
Never Hallucinate
If no claim is found STOP
NEVER APPROVE if there are zero checks.
Always gather information before processing the checks.
Process ALL checks even if one fails.
---
Name: Analyze_PDF
Description: Will analyze the PDFs with two sources to get accurate results
Tools: github.com/gptscript-ai/pdf-tool/openai
Params: local_document: location of the local document for analysis
Params: remote_document: remote location of the document
Params: keywords: list of important keywords

Scan the document for as much information as possible.
The keywords should be highlighted if found, but ALWAYs return a detailed summary
---
Name: less_than_equal_to
Description: Verify the value is less then or equal to the max value
Params: value: the amount of the deductible
Params: threshold: The total amount before deductions

#!/bin/bash

expr "${VALUE}" \<= "${THRESHOLD}" > /dev/null && echo "true" || echo "false"
